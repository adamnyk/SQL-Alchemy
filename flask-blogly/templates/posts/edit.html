{% extends 'base.html' %} 
{% block title %}Edit post{% endblock %} 

{% block content %}
    <h1>Edit post</h1>
    
    <form method="POST">
        <div class="form-group row">
            <label for="title" class="col-sm-2 col-form-label-sm">Title</label>
            <div class="col-sm-8 m-1">
                <input name="title" id="title" required placeholder="Enter a title" value='{{post.title}}'/>
            </div>
        </div>
    
        <div class="form-group m-1">
            <label for="content" class="col-sm-2 col-form-label-sm">Post content</label>
    
            <textarea type="text" name="content" id="content" required cols="30" rows="10" placeholder="Enter post content" >{{post.content}}</textarea>
        </div>

        <div class="form-check form-group">
            <h3>Tags:</h3>
            {% for tag in tags %}
            <div>
                <input 
                    class='form-input' 
                    type="checkbox" 
                    name="tags" 
                    id="tag_{{tag.id}}" 
                    value="{{tag.id}}"
                    {% if tag in post.tags %}
                    checked
                    {% endif %}
                >
                <label class="form-check-label" for="tag_{{tag.id}}">{{tag.name}}</label>
            </div>
            {% endfor %}
        </div>
    
    
        <div>
            <a href='/users/{{post.user.id}}' class='btn btn-sm btn-outline-primary '>Cancel</a>
            <button type="submit" class="btn btn-sm btn-success">Submit changes</button>
        </div>
    
    </form>
    
    {% endblock %}